let express,passport,orderService;_58a‍.x([["default",()=>_58a‍.o]]);_58a‍.w("express",[["default",["express"],function(v){express=v}]]);_58a‍.w("passport",[["default",["passport"],function(v){passport=v}]]);_58a‍.w("./order.service",[["*",null,function(v){orderService=v}]]);


const orderRouter = express.Router();

orderRouter.get("/restaurant/:restaurant_id", (req, res) => {
  const restaurant_id = req.params.restaurant_id;
  orderService
    .getOrdersByRestaurant(restaurant_id)
    .then(result => {
      res.status(200).json(result);
    })
    .catch(err => {
      res.status(500).json({
        message: err.message
      });
    });
});

orderRouter.put("/update/:order_id", (req,res) => {
  const order_details = {
    id: req.params.order_id,
    status: req.body.status
  };
  orderService.updateOrder(order_details)
  .then(result => {
    res.status(200).json(result);
  }).catch(err => {
    res.status(500).json({
      message: err.message
    });
  })
});

orderRouter.get("/:order_id", (req, res) => {
  const order_id = req.params.order_id;
  orderService.getOrderDetails(order_id)
  .then(result => {
    res.status(200).json(result);
  }).catch(err => {
    res.status(500).json({
      message: err.message
    });
  })
})

_58a‍.d(orderRouter);
